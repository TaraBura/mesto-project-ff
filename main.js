(()=>{"use strict";function e(e,t,n,o){const r=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=r.querySelector(".card__image");c.src=e.link,c.alt=e.name,r.querySelector(".card__title").textContent=e.name,r.querySelector(".card__delete-button").addEventListener("click",(()=>t(r))),c.addEventListener("click",(()=>o(e)));const p=r.querySelector(".card__like-button");return p.addEventListener("click",(()=>n(p))),r}function t(e){e.remove()}function n(e){e.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-animated"),setTimeout((()=>{e.classList.add("popup_is-opened"),document.addEventListener("keydown",p),e.addEventListener("click",c)}),10)}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p),e.removeEventListener("click",c),setTimeout((()=>{e.classList.remove("popup_is-animated")}),600)}function c(e){e.target.classList.contains("popup")&&r(e.target)}function p(e){if("Escape"===e.key){const e=document.querySelector(".popup_is-opened");e&&r(e)}}const s=document.querySelector(".popup__form[name='new-place']"),i=s.querySelector(".popup__input_type_card-name"),a=s.querySelector(".popup__input_type_url"),u=document.querySelector(".popup__form[name='edit-profile']"),d=u.querySelector(".popup__input_type_name"),l=u.querySelector(".popup__input_type_description"),_=document.querySelector(".content"),m=_.querySelector(".profile__add-button"),y=_.querySelector(".places__list"),v=_.querySelector(".profile__title"),k=_.querySelector(".profile__description"),f=_.querySelector(".profile__edit-button"),q=document.querySelector(".popup_type_image"),S=q.querySelector(".popup__image"),L=q.querySelector(".popup__caption"),E=document.querySelector(".popup_type_new-card"),g=document.querySelectorAll(".popup__close"),h=document.querySelector(".popup_type_edit");function x(e){S.src=e.link,S.alt=e.name,L.textContent=e.name,o(q)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((o=>{y.append(e(o,t,n,x))})),g.forEach((e=>{e.addEventListener("click",(function(){r(this.closest(".popup"))}))})),m.addEventListener("click",(()=>o(E))),f.addEventListener("click",(()=>{d.value=v.textContent,l.value=k.textContent,o(h)})),u.addEventListener("submit",(e=>{e.preventDefault(),v.textContent=d.value,k.textContent=l.value,r(h)})),s.addEventListener("submit",(o=>{o.preventDefault();const c=i.value,p=a.value;if(c&&p){const o=e({name:c,link:p},t,n,x);y.prepend(o),s.reset(),r(E)}}))})();